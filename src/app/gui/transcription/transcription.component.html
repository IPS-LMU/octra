<app-alert #alert></app-alert>
<modal #modal_overview id="overview">
    <modal-body>
        <app-transcr-overview *ngIf="transcrService.annotation !== null"
                              [visible]="modal_overview.visible"
                              [segments]="transcrService.annotation.levels[0].segments.segments"
                              (segmentclicked)="onSegmentInOverviewClicked($event)"
        >

        </app-transcr-overview>
    </modal-body>
    <modal-footer>
        <button type="button" class="btn btn-default" data-dismiss="modal" (click)="modal_overview.dismiss()">
            {{"general.close" | translate}}
        </button>
    </modal-footer>
</modal>
<modal #modal_shortcuts>
    <modal-body>
        <div *ngIf="sessService.Interface == 'Editor without signal display'">
            <h3>{{"modal.shortcuts.audioplayer" | translate}}</h3>
            <div class="table-responsive">
                <table class="table table-hover">
                    <tbody>
                    <tr *ngFor="let entry of keyMap.getEntryList('AP')">
                        <td>{{"modal.shortcuts."+ entry.value.title | translate}}</td>
                        <td>{{entry.value.keys[platform]}} <span *ngIf="entry.value.focusonly" class="focus-info">({{"general.on focus only" | translate}})</span>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div *ngIf="(sessService.Interface == 'Linear Editor')">
            <h3>{{"modal.shortcuts.top signaldisplay" | translate}}</h3>
            <div class="table-responsive">
                <table class="table table-hover">
                    <tbody>
                    <tr *ngFor="let entry of keyMap.getEntryList('AV')">
                        <td>{{"modal.shortcuts."+ entry.value.title | translate}}</td>
                        <td>{{entry.value.keys[platform]}} <span *ngIf="(entry.value !== null && entry.value.focusonly)" class="focus-info">({{"general.on focus only" | translate}})</span>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <h3>{{"modal.shortcuts.down signaldisplay" | translate}}</h3>
            <div class="table-responsive">
                <table class="table table-hover">
                    <tbody>
                    <tr *ngFor="let entry of keyMap.getEntryList('Loupe')">
                        <td>{{"modal.shortcuts."+ entry.value.title |translate}}</td>
                        <td>{{entry.value.keys[platform]}} <span *ngIf="(entry.value !== null && entry.value.focusonly)" class="focus-info">({{"general.on focus only" | translate}})</span>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div *ngIf="(sessService.Interface == '2D-Editor')">
            <h3>{{"modal.shortcuts.2D-Editor" | translate}}</h3>
            <div class="table-responsive">
                <table class="table table-hover">
                    <tbody>
                    <tr *ngFor="let entry of keyMap.getEntryList('2D-Editor')">
                        <td>{{"modal.shortcuts."+ entry.value.title | translate}}</td>
                        <td>{{entry.value.keys[platform]}} <span *ngIf="entry.value.focusonly" class="focus-info">({{"general.on focus only" | translate}})</span>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </modal-body>
    <modal-footer>
        <button type="button" class="btn btn-primary" (click)="modal_shortcuts.dismiss();">
            {{"general.close" |translate}}
        </button>
    </modal-footer>
</modal>
<div *ngIf="loaded">
    <span id='saving' *ngIf="saving != ''"><span style="color:#333333" class="glyphicon glyphicon-floppy-disk"></span></span>
    <app-fastbar
            [responsive]="responsive"
            [help_url]="help_url"
            [button_labels]="{
            shortcuts: 'general.shortcuts' | translate,
            guidelines: 'general.guidelines' | translate,
            overview: 'general.overview' | translate,
            help: 'general.help' | translate
            }"

            (shortcutbtnclicked)="modal_shortcuts.open()"
            (guidelinesbtnclicked)="modal_guidelines.open()"
            (overviewbtnclicked)="modal_overview.open()"
    ></app-fastbar>

    <app-transcr-guidelines #modal_guidelines [guidelines]="transcrService.guidelines"></app-transcr-guidelines>
    <div *ngIf="!(sessService.Interface == '2D-Editor')">
        <app-signal-gui #signalloupe *ngIf="sessService.Interface == 'Linear Editor'">
        </app-signal-gui>
        <app-audioplayer-gui #audioplayer *ngIf="sessService.Interface == 'Editor without signal display'"></app-audioplayer-gui>
    </div>
    <div *ngIf="sessService.Interface == '2D-Editor'">
        <app-overlay-gui></app-overlay-gui>
    </div>
    <div id="bottom-nav">
        <div class="btn-group btn-group-justified" role="group" aria-label="...">
            <a class="btn btn-default btn-raised"
               (click)="modService.show('transcription_stop', '', {ok: abortTranscription})"><span
                    class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span><span
                    *ngIf="!sessService.easymode"
                    [ngClass]="{'hidden-xs hidden-sm': appc.octra.responsive.enabled}"> {{"general.quit" | translate}}</span></a>
            <a class="btn btn-default btn-raised"
               (click)="submitTranscription()"><span
                    *ngIf="!sessService.easymode"
                    [ngClass]="{'hidden-xs hidden-sm': appc.octra.responsive.enabled}"> {{"transcription.finish" | translate}}</span>
                <span
                        class="glyphicon glyphicon glyphicon-menu-right" aria-hidden="true"></span></a>
        </div>
    </div>
</div>