<button class="btn btn-secondary" (click)="tableConfiguratorAddColumn()">
  <fa-icon icon="plus"></fa-icon>
  Add Column
</button>

<div class="columns-list" dragula="tableConfiguratorColumns"
     [(dragulaModel)]="columns">
  <div class="column" *ngFor="let column of columns; let i = index;">
    <div class="grip">
      <span class="column-number">#{{i + 1}}</span>
      <fa-icon [icon]="['fas', 'grip-lines']"></fa-icon>
    </div>
    <div class="content">
      <div class="options">
        <div class="btn-group" dropdown style="display:block; width:100%;">
          <button id="button-basic" dropdownToggle type="button" class="btn btn-info btn-outline btn-sm"
                  aria-controls="dropdown-basic" style="width: 100%;">
            Type: {{column.columnDefinition.type}}
          </button>
          <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu"
              role="menu" aria-labelledby="button-basic" style="cursor: pointer">
            <ng-container *ngFor="let colDef of columnDefinitions">
              <li role="menuitem" class="dropdown-item" [ngClass]="{
              'active': column.columnDefinition.type === colDef.type
              }" (click)="onTypeClick(i, colDef)">
                {{colDef.type}}
              </li>
            </ng-container>
          </ul>
        </div>
        <div class="btn-group" dropdown style="display:block; width:100%;">
          <button id="button-basic2" dropdownToggle type="button" class="btn btn-info btn-outline btn-sm"
                  aria-controls="dropdown-basic" style="width:100%;">
            Format: {{column.columnDefinition.selectedFormat.name}}
          </button>
          <ul id="dropdown-basic2" *dropdownMenu class="dropdown-menu"
              role="menu" aria-labelledby="button-basic" style="cursor: pointer">
            <li role="menuitem" class="dropdown-item" *ngFor="let format of column.columnDefinition.formats" [ngClass]="{
              'active': format.name === column.columnDefinition.selectedFormat.name
              }" (click)="onFormatClick(i, format)">
              {{format.name}} ({{format.formatString}})
            </li>
          </ul>
        </div>
        <input type="text" [(ngModel)]="column.title" class="title"/>
      </div>
      <div class="example">
        <div class="example-content">
          Example:<br/>
          {{column.columnDefinition.selectedFormat.defaultValue}}
        </div>
      </div>
    </div>
  </div>
  <div style="clear: left;"></div>
</div>

<div class="table-options">
  <form>
    <fieldset class="form-group">
      <div class="row">
        <legend class="col-form-label col-sm-4 pt-0">Divider:</legend>
        <div class="col-sm-8">
          <div class="btn-group" dropdown style="display:block; width:100%;">
            <button dropdownToggle type="button" class="btn btn-info btn-raised btn-sm"
                    aria-controls="dropdown-basic" style="width:100%;">
              Semikolon (;)
            </button>
            <ul id="dropdown-basic3" *dropdownMenu class="dropdown-menu"
                role="menu" aria-labelledby="button-basic" style="cursor: pointer">
              <li role="menuitem" class="dropdown-item">
                Tab (\t)
              </li>
              <li role="menuitem" class="dropdown-item">
                Semikolon (;)
              </li>
              <li role="menuitem" class="dropdown-item">
                Komma (,)
              </li>
              <li role="menuitem" class="dropdown-item">
                Line (|)
              </li>
            </ul>
          </div>
        </div>
      </div>
    </fieldset>
    <fieldset class="form-group">
      <div class="row">
        <legend class="col-form-label col-sm-4 pt-0">File extension:</legend>
        <div class="col-sm-8">
          <div class="btn-group" dropdown style="display:block; width:100%;">
            <button dropdownToggle type="button" class="btn btn-info btn-raised btn-sm"
                    aria-controls="dropdown-basic" style="width:100%;">
              .csv
            </button>
            <ul *dropdownMenu class="dropdown-menu"
                role="menu" aria-labelledby="button-basic" style="cursor: pointer">
              <li role="menuitem" class="dropdown-item">
                .table
              </li>
              <li role="menuitem" class="dropdown-item">
                .txt
              </li>
              <li role="menuitem" class="dropdown-item">
                .csv
              </li>
            </ul>
          </div>
        </div>
      </div>
    </fieldset>
    <div class="form-group row">
      <div class="col-sm-12">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="gridCheck1">
          <label class="form-check-label" for="gridCheck1" style="font-size: 14px;">
            add table header
          </label>
        </div>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-sm-10">
        <button type="submit" class="btn btn-primary btn-raised" (click)="generateFile()">Download</button>
      </div>
    </div>
  </form>
</div>
