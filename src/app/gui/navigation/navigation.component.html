<modal #modalexport>
    <modal-header>
        <h4 class="modal-title">{{"general.export data" | translate}}</h4>
    </modal-header>
    <modal-body>
        <div class="row">
            <div class="col-xs-6 export-button">
                <a download="{{navbarServ.exportformats.filename}}.txt" [href]="sanitize(getURI('text'))">
                    <div (mouseenter)="navbarServ.onExportButtonClick('text')"><span
                            class="glyphicon glyphicon-floppy-save"></span><br/>
                        {{"general.text file" | translate}}
                    </div>
                </a><br/>
                <a class="export-a"
                   href="https://clarin.phonetik.uni-muenchen.de/BASWebServices/#/services/WebMAUSBasic"
                   target="_blank">{{"general.open" | translate:{value:"WebMAUS"} }}</a>
            </div>
            <div class="col-xs-6 export-button">
                <a download="{{navbarServ.exportformats.filename}}_annot.json" [href]="sanitize(getURI('annotJSON'))">
                    <div (mouseenter)="navbarServ.onExportButtonClick('annotJSON')"><span
                            class="glyphicon glyphicon-floppy-save"></span><br/>annotJSON
                    </div>
                </a><br/>
                <a class="export-a"
                   href="http://ips-lmu.github.io/EMU-webApp/"
                   target="_blank">{{"general.open" | translate:{value:"EMU-WebApp"} }}</a>
            </div>
        </div>
    </modal-body>
    <modal-footer>
        <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="modalexport.dismiss()">
            {{"general.close" | translate}}
        </button>
    </modal-footer>
</modal>
<nav class="navbar navbar-inverse">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" (click)="collapsed = ! collapsed"
                    data-target="#navbar" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" [routerLink]="['/']">OCTRA v{{version}}</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li *ngIf="sessService.LoggedIn && navbarServ.show_interfaces && interfaceActive('Editor without signal display')"
                    [ngClass]="{
                        'active': sessService.Interface === 'Editor without signal display'
                    }"
                >
                    <a (mouseup)="setInterface('Editor without signal display')">
                        <i class="glyphicon glyphicon-minus navbar-icon"></i> <span class="hidden-sm">{{"interfaces.simple editor" | translate}}</span>
                    </a>
                </li>
                <li *ngIf="sessService.LoggedIn && navbarServ.show_interfaces && interfaceActive('Linear Editor')"
                    [ngClass]="{
                        'active': sessService.Interface === 'Linear Editor'
                    }">
                    <a (mouseup)="setInterface('Linear Editor')">
                        <span class="glyphicon glyphicon-modal-window navbar-icon"></span> <span class="hidden-sm">{{"interfaces.linear editor" | translate}}</span>
                    </a>
                </li>
                <li *ngIf="sessService.LoggedIn && navbarServ.show_interfaces && interfaceActive('2D-Editor')"
                    [ngClass]="{
                        'active': sessService.Interface === '2D-Editor'
                    }"
                >
                    <a (mouseup)="setInterface('2D-Editor')">
                        <span class="glyphicon glyphicon-align-justify navbar-icon"></span> <span class="hidden-sm">{{"interfaces.2D editor" | translate}}</span></a>
                </li>
            </ul>

            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown" *ngIf="(sessService.LoggedIn && navbarServ.dataloaded)">
                    <a href="#" class="dropdown" data-toggle="dropdown" role="button"
                       aria-expanded="false"><span class="glyphicon glyphicon-info-sign navbar-icon"></span></a>
                    <div class="dropdown-menu info-menu" [ngClass]="{
                        'collaps': collapsed
                    }">
                        <table class="table">
                            <tr *ngIf="!sessService.offline">
                                <td><span>{{'general.project' |translate}}:</span></td>
                                <td>
                                    <span>{{sessService.member_project}}</span>
                                </td>
                            </tr>
                            <tr>
                                <td><span>{{'general.name' | translate}}</span></td>
                                <td>
                                    <span>{{navbarServ.exportformats.filename}}</span>
                                </td>
                            </tr>
                            <tr *ngIf="!sessService.offline">
                                <td><span>ID:</span></td>
                                <td>
                                    <span>{{sessService.data_id}}</span>
                                </td>
                            </tr>
                            <tr *ngIf="!sessService.offline">
                                <td><span>Jobs left:</span></td>
                                <td>
                                    <span>{{sessService.jobs_left}}</span>
                                </td>
                            </tr>
                        </table>
                    </div>
                </li>
                <li *ngIf="sessService.LoggedIn && navbarServ.show_export">
                    <a (mouseup)="modalexport.open()">
                        <span class="glyphicon glyphicon-download navbar-icon"></span>
                        <span class="hidden-sm hidden-md">{{"general.export" | translate}}</span>
                    </a>
                </li>
                <li class="dropdown" [ngStyle]="{
                'display': (!(navbarServ.dataloaded && sessService.LoggedIn)) ? 'none': 'inherit'
                }">
                    <a href="#" class="dropdown" data-toggle="dropdown" role="button"
                       aria-expanded="false"><span class="glyphicon glyphicon-cog navbar-icon"></span></a>
                    <div class="dropdown-menu options-menu" [ngClass]="{
                        'collaps': collapsed
                    }">
                        <table class="table">
                            <tr>
                                <td><label for="easymode">{{"general.easy mode" | translate}}:</label></td>
                                <td>
                                    <div class="togglebutton">
                                        <label>
                                            <input (click)="toggleSettings('easymode')" [checked]="sessService.easymode"
                                                   id="easymode" type="checkbox">
                                        </label>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td><label for="playonhover">PlayOnHover:</label></td>
                                <td>
                                    <div class="togglebutton">
                                        <label>
                                            <input (click)="toggleSettings('playonhover')" [checked]="sessService.playonhover"
                                                   id="playonhover" type="checkbox">
                                        </label>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </li>
                <li>
                    <a (mouseup)="openBugReport()">
                        <span class="glyphicon glyphicon-exclamation-sign navbar-icon" style="color:#ff415a"></span>
                    </a>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                       aria-expanded="false">{{langService.currentLang | uppercase}} <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li *ngFor="let item of langService.getLangs();">
                            <a (click)="changeLanguage(item)">{{item | uppercase}}</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div><!-- .nav-collapse -->
    </div>
</nav>
<div id="subnav" *ngIf="sessService.LoggedIn && !sessService.offline && navbarServ.dataloaded">
    {{"general.project" | translate}}: {{sessService.member_project}} | {{"general.name" |translate}}:
    {{navbarServ.exportformats.filename}} | {{'general.free jobs' | translate}}:
    {{sessService.jobs_left}}
</div>