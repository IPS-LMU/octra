<div id="overlay-transcr" style="position:relative">
    <app-transcr-window #window (act)="onWindowAction($event)" *ngIf="showWindow"
                        [easymode]="appStorage.easymode"
                        [audiochunk]="audiochunk_window"
                        [segment_index]="selected_index"
    ></app-transcr-window>
    <app-audio-navigation #audionav
                          (buttonclick)="onButtonClick($event)"
                          (volumechange)="onVolumeChange($event)"
                          (aftervolumechange)="afterVolumeChange($event)"
                          (speedchange)="onSpeedChange($event)"
                          (afterspeedchange)="afterSpeedChange($event)"
                          [audioplaying]="audiomanager.audioplaying"
                          [replay]="audiomanager.replay"
                          [(responsive)]="settingsService.responsive.enabled"
                          [buttons]="{
                                play: {
                                    label: ('general.play' | translate),
                                    shortcut: keyMap.getShortcut('overlay', 'play_pause')
                                },
                                pause: {
                                    label: ('general.pause' | translate),
                                    shortcut: keyMap.getShortcut('overlay', 'play_pause')
                                },
                                stop: {
                                    label: ('general.stop' | translate),
                                    shortcut: keyMap.getShortcut('overlay', 'stop')
                                },
                                replay: {
                                    label: ('general.replay' | translate),
                                    shortcut: ''
                                },
                                backward: {
                                    label: ('general.backward' | translate),
                                    shortcut: keyMap.getShortcut('overlay', 'step_backward')
                                },
                                backwardtime: {
                                    label: ('general.backwardtime' | translate),
                                    shortcut: keyMap.getShortcut('overlay', 'step_backward')
                                }
                              }"
                          [easymode]="appStorage.easymode"
    ></app-audio-navigation>

    <div id="special" class="flex" [ngStyle]="
{
height: getHeight + 'px'
}" style="overflow-y: scroll; overflow-x: hidden; position:relative;">
        <div (mouseenter)="loupe_hidden = false;" (mouseleave)="loupe_hidden = true;">
            <app-circleloupe #loupe [width]="miniloupe.size.width" [height]="miniloupe.size.height" [ngStyle]="{
'position':'absolute',
'margin-left':miniloupe.location.x + 'px',
'margin-top':miniloupe.location.y + 'px',
'z-index':'90',
'visibility': (loupe_hidden) ? 'hidden' : 'inherit'}"
                             [audiochunk]="audiochunk_loupe"></app-circleloupe>
        </div>
        <app-audioviewer #viewer
                         (selchange)="onSegmentSelected($event);"
                         (segmententer)="onSegmentEntered($event);"
                         (segmentchange)="onSegmentChange($event);"
                         (mousecursorchange)="onMouseOver($event);"
                         (mouseenter)="loupe_hidden = false;"
                         (mouseleave)="loupe_hidden = true;"
                         (shortcuttriggered)="onShortCutTriggered($event, 'mult-lines-viewer')"
                         [audiochunk]="audiochunk_lines"
        >
        </app-audioviewer>
    </div>
</div>